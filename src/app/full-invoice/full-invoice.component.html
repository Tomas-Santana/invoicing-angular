<div class="-z-20 bg-purple-400 fixed inset-0"></div>
<div id="clientInfo" class="bg-white w-full max-w-6xl p-4 rounded-md flex flex-col gap-2 mx-auto mt-5">
    <div class="flex justify-between w-full">
        <h1 class="m-0 mb-2 text-3xl  text-slate-700">Invoice #
            <span class="font-bold">{{fullInvoice?.invoice_id}}</span>
        </h1>
        <div>
            <p class="text-md m-0 text-end text-slate-700">Dated: 
                <span class="font-bold">{{fullInvoice?.date}}</span>
            </p>
            <p class="text-md m-0 text-end text-slate-700">Status: 
                <span class="font-bold">
                    {{fullInvoice?.void ? 'Void' : 'Paid'}}
                </span>
            </p>
        </div>

    </div>
    <p class="m-0 text-xl font-bold text-slate-700">Client name: {{fullInvoice?.client?.name}} {{fullInvoice?.client?.surname}}</p>
    <p class="m-0 text-slate-700">Client ID: 
        <span class="font-bold">{{fullInvoice?.client?.pid_prefix}}-{{fullInvoice?.client?.pid}}</span>
    </p>
    <p class="m-0 text-slate-700">Client address: 
        <span class="font-bold">{{fullInvoice?.client?.dir}}</span>
    </p>
</div>

<div class="mt-5 w-full max-w-6xl mx-auto flex flex-col md:flex-row gap-4 justify-center items-center rounded-md">
    <div  class=" rounded-md p-4 bg-white flex flex-col justify-center flex-1">
        <p class="text-xl font-bold m-0 text-slate-700">Products</p>
        <app-dynamic-table
            [columns]="productColumns"
            [data]="productData"
        >
        </app-dynamic-table>
    </div>
    <div  class=" rounded-md p-4 bg-white flex flex-col justify-center flex-1">
        <p class="text-xl font-bold m-0 text-slate-700">Payments</p>

        <app-dynamic-table
            [columns]="paymentColumns"
            [data]="paymentData"
        >
    
        </app-dynamic-table>
    </div>
</div>

<div  class="bg-white w-full max-w-6xl p-4 rounded-md flex flex-col gap-2 mx-auto mt-5">
    <div class="flex justify-between w-full">
        <h1 class="m-0 mb-2 text-3xl  text-slate-700">Totals
        </h1>
        <div class="flex flex-col gap-2">
            <p class="text-md m-0 text-end text-slate-700">Subtotal: 
                <span class="font-bold">USD {{(this.total * 0.9).toFixed()}}</span> 
            </p>
            <p class="text-md m-0 text-end text-slate-700">Tax: 
                <span class="font-bold">USD {{(this.total * 0.1).toFixed()}}</span>
            </p>
            <p class="text-2xl m-0 text-end text-slate-700">Total: 
                <span class="font-bold">USD {{(this.total).toFixed(2)}}</span>
            </p>
        </div>
    </div>
</div>
<div  class=" w-full max-w-6xl rounded-md mx-auto mt-5">
    <p-button class="p-button-white" label="Void Invoice" class="w-full" (onClick)="confirmVoid()" severity="danger" [disabled]="fullInvoice?.void"></p-button>
</div>

<p-confirmDialog></p-confirmDialog>
<p-toast position="bottom-right"></p-toast>


